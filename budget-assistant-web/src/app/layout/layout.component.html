<!--
  主版面導航選單更新
  檔案路徑：budget-assistant-web/src/app/layout/layout.component.html
  
  在原有的導航選單中新增使用者資料管理的連結
-->

<!-- 側邊導航欄（更新後的版本） -->
<mat-sidenav 
  #drawer 
  class="sidenav" 
  fixedInViewport
  [attr.role]="'navigation'"
  [mode]="'over'"
  [opened]="sidenavOpened">
  
  <!-- 使用者資訊區域 -->
  <div class="user-info" *ngIf="currentUser$ | async as user">
    <mat-icon class="user-avatar">account_circle</mat-icon>
    <div class="user-details">
      <span class="username">{{ user.displayName }}</span>
      <span class="user-email">{{ user.username }}</span>
    </div>
  </div>

  <mat-divider></mat-divider>

  <!-- 主要功能導航選單 -->
  <mat-nav-list>
    <a mat-list-item (click)="navigateTo('/dashboard')">
      <mat-icon matListItemIcon>dashboard</mat-icon>
      <span matListItemTitle>儀表板</span>
    </a>
    
    <a mat-list-item (click)="navigateTo('/expense/add')">
      <mat-icon matListItemIcon>add</mat-icon>
      <span matListItemTitle>新增支出</span>
    </a>
    
    <a mat-list-item (click)="navigateTo('/expense/budget')">
      <mat-icon matListItemIcon>savings</mat-icon>
      <span matListItemTitle>預算設定</span>
    </a>
    
    <a mat-list-item (click)="navigateTo('/expense/history')">
      <mat-icon matListItemIcon>history</mat-icon>
      <span matListItemTitle>支出記錄</span>
    </a>

    <mat-divider></mat-divider>
    
    <!-- 新增：使用者管理區域 -->
    <div class="nav-section-header">
      <span>帳戶管理</span>
    </div>
    
    <a mat-list-item (click)="navigateTo('/user/profile')">
      <mat-icon matListItemIcon>manage_accounts</mat-icon>
      <span matListItemTitle>個人資料</span>
    </a>

    <!-- 未來可擴展的使用者功能 -->
    <!--
    <a mat-list-item (click)="navigateTo('/user/preferences')">
      <mat-icon matListItemIcon>settings</mat-icon>
      <span matListItemTitle>偏好設定</span>
    </a>
    
    <a mat-list-item (click)="navigateTo('/user/security')">
      <mat-icon matListItemIcon>security</mat-icon>
      <span matListItemTitle>安全設定</span>
    </a>
    -->

    <mat-divider></mat-divider>
    
    <a mat-list-item (click)="logout()">
      <mat-icon matListItemIcon>logout</mat-icon>
      <span matListItemTitle>登出</span>
    </a>
  </mat-nav-list>
</mat-sidenav>