<!-- æ¸…æ–°ç¾ä»£åŒ–ç™»å…¥é é¢ -->
<div class="login-container">
  <!-- èƒŒæ™¯è£é£¾å…ƒç´  -->
  <div class="background-decoration">
    <div class="floating-shape shape-1"></div>
    <div class="floating-shape shape-2"></div>
    <div class="floating-shape shape-3"></div>
  </div>

  <!-- ç™»å…¥å¡ç‰‡ -->
  <div class="login-card">
    <!-- æ¨™é¡Œå€åŸŸ -->
    <div class="login-header">
      <div class="app-logo">
        <div class="logo-icon">ğŸŒ±</div>
        <h1>é ç®—åŠ©æ‰‹</h1>
      </div>
      <p class="welcome-text">æ­¡è¿å›ä¾†ï¼è«‹ç™»å…¥æ‚¨çš„å¸³æˆ¶</p>
    </div>

    <!-- è¡¨å–®å€åŸŸ -->
    <div class="login-form">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-5">
        <!-- å¸³è™Ÿè¼¸å…¥æ¬„ä½ -->
        <div class="form-group">
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>å¸³è™Ÿ</mat-label>
            <input 
              matInput 
              formControlName="username"
              placeholder="è«‹è¼¸å…¥æ‚¨çš„å¸³è™Ÿ"
              autocomplete="username"
              class="rounded-xl">
            <mat-icon matSuffix class="text-fresh-500">person_outline</mat-icon>
            <mat-error *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched">
              {{ getErrorMessage('username') }}
            </mat-error>
          </mat-form-field>
        </div>

        <!-- å¯†ç¢¼è¼¸å…¥æ¬„ä½ -->
        <div class="form-group">
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>å¯†ç¢¼</mat-label>
            <input 
              matInput 
              [type]="hidePassword ? 'password' : 'text'"
              formControlName="password"
              placeholder="è«‹è¼¸å…¥æ‚¨çš„å¯†ç¢¼"
              autocomplete="current-password"
              class="rounded-xl">
            <button 
              mat-icon-button 
              matSuffix 
              type="button"
              (click)="hidePassword = !hidePassword"
              [attr.aria-label]="'åˆ‡æ›å¯†ç¢¼é¡¯ç¤º'"
              [attr.aria-pressed]="hidePassword"
              class="text-fresh-500">
              <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
            </button>
            <mat-error *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
              {{ getErrorMessage('password') }}
            </mat-error>
          </mat-form-field>
        </div>

        <!-- ç™»å…¥æŒ‰éˆ• -->
        <div class="form-group">
          <button 
            mat-raised-button 
            color="primary" 
            type="submit"
            class="login-button w-full"
            [disabled]="isLoading || loginForm.invalid">
            <div class="button-content">
              <mat-spinner diameter="20" *ngIf="isLoading" class="mr-2"></mat-spinner>
              <mat-icon *ngIf="!isLoading" class="mr-2">login</mat-icon>
              <span>{{ isLoading ? 'ç™»å…¥ä¸­...' : 'ç™»å…¥' }}</span>
            </div>
          </button>
        </div>
      </form>
    </div>

    <!-- è¨»å†Šé€£çµ -->
    <div class="register-section">
      <p class="register-text">
        é‚„æ²’æœ‰å¸³è™Ÿï¼Ÿ
        <button 
          mat-button 
          color="accent" 
          (click)="goToRegister()"
          class="register-link-button">
          ç«‹å³è¨»å†Š
        </button>
      </p>
    </div>

    <!-- è£é£¾æ€§å°åœ–æ¨™ -->
    <div class="decoration-icons">
      <span class="icon">ğŸ’°</span>
      <span class="icon">ğŸ“Š</span>
      <span class="icon">ğŸ’³</span>
    </div>
  </div>
</div>