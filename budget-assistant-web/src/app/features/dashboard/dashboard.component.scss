/**
 * 清新現代化儀表板樣式
 * 採用自然色彩與現代化設計語言
 */

.dashboard-container {
  @apply p-4 md:p-6 max-w-7xl mx-auto min-h-screen;

  // 載入狀態
  .loading-container {
    @apply flex items-center justify-center min-h-[60vh];
    
    .loading-content {
      @apply text-center;
      
      .loading-text {
        @apply mt-6 text-sage-600 font-medium text-lg;
      }
    }
  }

  // 錯誤狀態
  .error-container {
    @apply flex items-center justify-center min-h-[60vh];
    
    .error-card {
      @apply text-center bg-white/80 backdrop-blur-xl rounded-3xl p-8 shadow-soft max-w-md;
      border: 1px solid rgba(255, 255, 255, 0.3);
      
      .error-icon {
        @apply text-6xl text-sunset-400 mb-4;
      }
      
      h3 {
        @apply text-xl font-semibold text-sage-800 mb-2;
      }
      
      p {
        @apply text-sage-600 mb-6;
      }
      
      .retry-button {
        @apply rounded-2xl px-6 py-3;
      }
    }
  }

  .dashboard-content {
    animation: fade-in 0.6s ease-out;

    // 歡迎區域
    .welcome-section {
      @apply rounded-3xl p-6 md:p-8 mb-8 relative overflow-hidden;
      background: linear-gradient(135deg, 
        rgba(34, 197, 94, 0.1) 0%,
        rgba(14, 165, 233, 0.1) 50%,
        rgba(168, 85, 247, 0.1) 100%
      );
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      
      .welcome-content {
        @apply relative z-10;
        
        .greeting {
          @apply flex items-center gap-3 mb-3;
          
          .wave {
            @apply text-3xl;
            animation: wave 2s ease-in-out infinite;
          }
          
          h1 {
            @apply text-2xl md:text-3xl font-bold text-sage-800 m-0;
            background: linear-gradient(135deg, #22c55e, #0ea5e9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
          }
        }
        
        .welcome-subtitle {
          @apply text-sage-600 text-lg mb-4 m-0;
        }
        
        .date-info {
          @apply flex items-center gap-2 text-sage-500;
          
          mat-icon {
            @apply text-fresh-500;
          }
        }
      }
      
      .welcome-decoration {
        @apply absolute top-4 right-4 md:top-6 md:right-6;
        
        .decoration-element {
          @apply absolute text-2xl opacity-30;
          animation: float 6s ease-in-out infinite;
          
          &.element-1 {
            top: 0;
            right: 0;
            animation-delay: 0s;
          }
          
          &.element-2 {
            top: 20px;
            right: 30px;
            animation-delay: 2s;
          }
          
          &.element-3 {
            top: 40px;
            right: 60px;
            animation-delay: 4s;
          }
        }
      }
    }

    // 預算警示卡片
    .budget-alert-card {
      @apply rounded-2xl p-6 mb-8 bg-gradient-to-r from-sunset-50 to-fresh-50 border-l-4 border-sunset-400;
      box-shadow: 0 4px 15px rgba(242, 128, 13, 0.1);
      
      .alert-content {
        @apply flex items-center gap-4 flex-wrap;
        
        .alert-icon {
          @apply text-sunset-500 text-3xl;
        }
        
        .alert-text {
          @apply flex-1 min-w-0;
          
          h4 {
            @apply text-lg font-semibold text-sage-800 m-0 mb-1;
          }
          
          p {
            @apply text-sage-600 m-0;
          }
        }
        
        .alert-button {
          @apply rounded-xl px-6 py-3;
        }
      }
    }

    // 統計卡片網格
    .stats-grid {
      @apply grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8;
      
      .stat-card {
        @apply bg-white/80 backdrop-blur-xl rounded-2xl p-6 shadow-soft transition-all duration-300 hover:shadow-xl hover:-translate-y-1;
        border: 1px solid rgba(255, 255, 255, 0.3);
        animation: slide-up 0.6s ease-out;
        
        .card-header {
          @apply flex items-center gap-4 mb-4;
          
          .icon-wrapper {
            @apply w-12 h-12 rounded-xl flex items-center justify-center;
            
            &.budget-icon {
              @apply bg-fresh-100 text-fresh-600;
            }
            
            &.expense-icon {
              @apply bg-sunset-100 text-sunset-600;
            }
            
            &.credit-icon {
              @apply bg-ocean-100 text-ocean-600;
            }
            
            &.remaining-icon {
              @apply bg-lavender-100 text-lavender-600;
            }
            
            mat-icon {
              @apply text-xl;
            }
          }
          
          .card-title {
            h3 {
              @apply text-lg font-semibold text-sage-800 m-0;
            }
            
            .subtitle {
              @apply text-sm text-sage-500;
            }
          }
        }
        
        .card-content {
          .amount {
            @apply text-2xl md:text-3xl font-bold mb-2;
            background: linear-gradient(135deg, #22c55e, #0ea5e9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            
            &.negative {
              background: linear-gradient(135deg, #f2800d, #e36207);
              -webkit-background-clip: text;
              -webkit-text-fill-color: transparent;
              background-clip: text;
            }
          }
          
          .description {
            @apply text-sage-600 mb-3;
          }
          
          .trend {
            @apply flex items-center gap-2 text-sm font-medium;
            
            &.positive {
              @apply text-fresh-600;
            }
            
            &.negative {
              @apply text-sunset-600;
            }
            
            &.warning {
              @apply text-sunset-500;
            }
            
            &.info {
              @apply text-ocean-500;
            }
            
            mat-icon {
              @apply text-base;
            }
          }
        }
      }
    }

    // 進度條區域
    .progress-section {
      @apply mb-8;
      
      .progress-card {
        @apply bg-white/80 backdrop-blur-xl rounded-2xl p-6 shadow-soft;
        border: 1px solid rgba(255, 255, 255, 0.3);
        
        .progress-header {
          @apply flex items-center justify-between mb-4;
          
          h3 {
            @apply text-lg font-semibold text-sage-800 m-0;
          }
          
          .progress-badge {
            @apply px-3 py-1 rounded-full text-sm font-medium;
            
            &.primary {
              @apply bg-fresh-100 text-fresh-700;
            }
            
            &.accent {
              @apply bg-ocean-100 text-ocean-700;
            }
            
            &.warn {
              @apply bg-sunset-100 text-sunset-700;
            }
          }
        }
        
        .progress-content {
          .progress-info {
            @apply flex justify-between mb-4;
            
            .info-item {
              @apply text-center;
              
              .label {
                @apply block text-sm text-sage-500 mb-1;
              }
              
              .value {
                @apply text-lg font-semibold text-sage-800;
              }
            }
          }
          
          .progress-bar-container {
            @apply mb-3;
            
            .custom-progress-bar {
              @apply h-3 rounded-full overflow-hidden;
              
              ::ng-deep .mdc-linear-progress__bar-inner {
                border-radius: 6px;
              }
            }
          }
          
          .progress-details {
            @apply text-center;
            
            small {
              @apply text-sage-500;
            }
          }
        }
      }
    }

    // 快速操作區域
    .quick-actions-section {
      @apply mb-8;
      
      h2 {
        @apply text-xl font-semibold text-sage-800 mb-6 text-center;
      }
      
      .action-grid {
        @apply grid grid-cols-1 md:grid-cols-3 gap-4;
        
        .action-button {
          @apply rounded-2xl p-6 transition-all duration-300 hover:-translate-y-1;
          
          &.primary {
            @apply shadow-fresh;
            
            &:hover {
              box-shadow: 0 8px 25px rgba(34, 197, 94, 0.3);
            }
          }
          
          &.accent {
            @apply shadow-ocean;
            
            &:hover {
              box-shadow: 0 8px 25px rgba(14, 165, 233, 0.3);
            }
          }
          
          &.outlined {
            @apply bg-white/80 backdrop-blur-xl border-2 border-sage-200 text-sage-700;
            
            &:hover {
              @apply bg-sage-50 border-sage-300;
            }
          }
          
          .button-content {
            @apply text-center;
            
            mat-icon {
              @apply text-2xl block mb-2;
            }
            
            span {
              @apply block font-semibold mb-1;
            }
            
            small {
              @apply text-sm opacity-75;
            }
          }
        }
      }
    }

    // 空狀態
    .empty-state {
      @apply text-center py-16;
      
      .empty-content {
        @apply bg-white/80 backdrop-blur-xl rounded-3xl p-8 max-w-md mx-auto shadow-soft;
        border: 1px solid rgba(255, 255, 255, 0.3);
        
        .empty-icon {
          @apply text-6xl mb-4;
        }
        
        h3 {
          @apply text-xl font-semibold text-sage-800 mb-3;
        }
        
        p {
          @apply text-sage-600 mb-6;
        }
        
        .get-started-button {
          @apply rounded-2xl px-8 py-3;
        }
      }
    }
  }
}

// 響應式設計
@media (max-width: 768px) {
  .dashboard-container {
    .dashboard-content {
      .welcome-section {
        @apply p-4;
        
        .greeting h1 {
          @apply text-xl;
        }
      }
      
      .stats-grid {
        @apply grid-cols-1 gap-4;
      }
      
      .quick-actions-section .action-grid {
        @apply grid-cols-1 gap-3;
      }
    }
  }
}

// 動畫
@keyframes wave {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(20deg); }
  75% { transform: rotate(-10deg); }
}